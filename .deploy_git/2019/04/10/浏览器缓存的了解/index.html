<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 浏览器缓存的了解 · HarryPang's Blog</title><meta name="description" content="浏览器缓存的了解 - Harry Pang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://github.com/ZhangQiangQQ/atom.xml" title="HarryPang's Blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">博客</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="/2019/01/11/关于我" target="_self" class="nav-list-link">关于我</a></li><li class="nav-list-item"><a href="https://github.com/ZhangQiangQQ/" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">浏览器缓存的了解</h1><div class="post-info">2019年4月10日</div><div class="post-content"><ol>
<li>浏览器缓存 主要指的是 htttp的缓存 ，即协议层的缓存</li>
<li>协议层的缓存 分为 强制缓存 和 对比缓存</li>
</ol>
<p>强制缓存：<br>概念：只有当 缓存失效时 才会向服务器获取最新资源。<br>方式： Expires  和  Cache-Control</p>
<p>1.Expires：<br>  Expires: Thu, 10 Nov 2017 08:45:11 GMT<br>绝对时间，受客户端本地时间的影响，修改后会导致浏览器的缓存判断失效，而重新请求。并且 修改后会导致 客户端 与服务端时间不一致，使得缓存失效</p>
<p>2.Cache-Control：<br>例：  Response Header：<br>        Cache-Control：max-age=25454500<br>max-age：即最大有效时间，在上面的例子中我们可以看到<br>no-cache：表示没有缓存，即告诉浏览器该资源并没有设置缓存<br>s-maxage：同max-age，但是仅用于共享缓存，如CDN缓存<br>public：多用户共享缓存，默认设置<br>private：不能够多用户共享，HTTP认证之后，字段会自动转换成private。<br>相对时间，所以不会受客户端的 影响。可配置性强。</p>
<p>对比缓存：<br>概念：简单来说就是 先去找缓存，然后获取缓存的标识，拿着标识去服务请求 确认该数据是否更新过，<br>如果更新了 就返回最新的数据。否则 返回304，从缓存中获取数据。<br>方式：Last-Modified和If-Modified-Since  和 Etag</p>
<p>Last-Modified：服务器告知客户端，资源最后一次被修改的时间<br>例： Response Header：<br>      Last-Modified: Thu, 10 Nov 2015 08:45:11 GMT</p>
<p>If-Modified-Since：<br>再次请求时，请求头中带有该字段，服务器会将If-Modified-Since的值与Last-Modified字段进行对比，<br>如果相等，则表示未修改，响应304；<br>反之，则表示修改了，响应200状态码，返回数据。</p>
<p>Etag：就是个hash值。每次随着数据资源返回，来回传递，进行识别对比，来判断是否返回304或者数据资源</p>
</div></article></div></main><footer><div class="paginator"><a href="/2019/03/01/发布流程/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2019 <a href="https://github.com/ZhangQiangQQ">Harry Pang</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>